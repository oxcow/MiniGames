{"version":3,"sources":["components/GameContainer.js","games/tictactoe/index.js","classes/Utils.js","games/npuzzle/index.js","router.config.js","games/tetris/index.js","App.js","reportWebVitals.js","index.js"],"names":["GameContainer","props","className","style","marginBottom","title","children","PopUp","message","solved","handleCloseEvent","useState","open","setOpen","closeModal","useEffect","id","href","aria-label","onClick","calculateWinner","squares","lines","i","length","a","b","c","Square","value","Board","this","renderSquare","React","Component","Game","state","history","Array","fill","stepNumber","xIsNext","slice","setState","concat","step","status","current","winner","moves","map","move","desc","jumpTo","handleClick","Utils","min","max","Math","ceil","floor","random","arr","t","j","len","randomIndex","getRandomInt","console","debug","getNumberInversions","number","matrix_n","from","pow","val","index","knuthDurstenfeldShuffle","isOdd","array","element","findIndex","v","puzzles","k","routeConfig","path","name","component","TicTacToeGame","initialization","matrixN","getSolvablePuzzleNumbers","nullIndex","R","C","clickIndex","nullOffset","getOffset","clickOffset","abs","includes","isSolved","baseNumber","currentNullIndex","canExchange","doExchange","onTouchEnd","join","ele","checked","type","onChange","changeMatrix","App","basename","width","route","to","exact","Date","getFullYear","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","log"],"mappings":"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","file":"static/js/main.9a354271.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/anchor-has-content */\nimport React, {useEffect, useState} from \"react\";\n\nexport default function GameContainer(props) {\n  return (\n    <>\n      <h3 className=\"s-title\" style={{marginBottom: \"10px\"}}>\n        {props.title}\n      </h3>\n      {props.children}\n      {/*<JumpTo {...props}/>*/}\n      {/*<GameConsole {...props}/>*/}\n      <PopUp {...props.message}/>\n    </>\n  )\n}\n\nexport function JumpTo(props) {\n  return (\n    <>\n      <div className=\"divider text-center\" data-content=\"Actions\"></div>\n      <div style={{overflowY: \"scroll\", height: \"200px\"}}>\n        {props.jumpTo}\n      </div>\n    </>\n  )\n}\n\nexport function GameConsole(props) {\n  return (\n    <>\n      <div className=\"divider text-center\" data-content=\"Console\"></div>\n      <div>\n        {props.console}\n      </div>\n    </>\n  )\n}\n\nexport function PopUp(props) {\n  const {solved, message, handleCloseEvent} = props;\n  const [open, setOpen] = useState(false);\n  useEffect(() => {\n    setOpen(solved);\n  }, [solved]);\n\n  function closeModal() {\n    setOpen(false);\n    handleCloseEvent();\n  }\n\n  return (\n    <div className={open ? 'modal modal-sm active' : 'modal modal-sm'} id=\"modal-id\">\n      <a href=\"#close\" className=\"modal-overlay\" aria-label=\"Close\"\n         onClick={closeModal}\n      ></a>\n      <div className=\"modal-container\">\n        <div className=\"modal-header\">\n          <a href=\"#close\" className=\"btn btn-clear float-right\" aria-label=\"Close\"\n             onClick={closeModal}\n          ></a>\n          {/*<div className=\"modal-title h5\">Modal title</div>*/}\n        </div>\n        <div className=\"modal-body\">\n          <div className=\"content\">\n            {message}\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport GameContainer from '../../components/GameContainer';\nimport './index.css';\n\nfunction calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a]\n      && squares[a] === squares[b]\n      && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n  return null;\n}\n\nfunction Square(props) {\n  return (\n    <button className=\"square\" onClick={props.onClick}>\n      {props.value}\n    </button>\n  );\n}\n\nclass Board extends React.Component {\n\n  renderSquare(i) {\n    return (\n      <Square\n        value={this.props.squares[i]}\n        onClick={() => this.props.onClick(i)}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport class Game extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      history: [{\n        squares: Array(9).fill(null),\n      }],\n      stepNumber: 0,\n      xIsNext: true,\n    }\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n\n    const squares = current.squares.slice();\n\n    if (calculateWinner(squares)\n      || squares[i]) {\n      return;\n    }\n\n    squares[i] = this.state.xIsNext ? 'X' : 'O';\n    this.setState({\n      history: history.concat([{\n        squares: squares,\n      }]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext,\n    });\n\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: (step % 2) === 0,\n    })\n  }\n\n  render() {\n\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares);\n\n    const moves = history.map((step, move) => {\n      const desc = move ? 'Mvoe #' + move : \"Game start\";\n\n      return (\n        <li key={move}>\n          <button onClick={() => this.jumpTo(move)}>\n            {desc}\n          </button>\n        </li>\n      );\n    });\n\n\n    let status;\n    if (winner) {\n      status = \"Winner: \" + winner;\n    } else {\n      status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');\n    }\n\n    return (\n      <GameContainer title=\"React官方Demo\">\n        <div className=\"game\">\n          <div className=\"game-board\">\n            <Board\n              squares={current.squares}\n              onClick={(i) => this.handleClick(i)}\n            />\n          </div>\n          <div className=\"game-info\">\n            <div>{status}</div>\n            <ol>{moves}</ol>\n          </div>\n        </div>\n      </GameContainer>\n    );\n  }\n}\n\n// export default Game;","export default class Utils {\n\n  /**\n   * 获取指定范围内的随机数\n   * @param min\n   * @param max\n   * @returns {number} r -> [min, max)\n   */\n  static getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n  }\n\n  /**\n   * 获取数组的逆序数\n   * @param arr\n   * @returns {number}\n   */\n  static getNumberInversions(arr) {\n    let t = 0;\n    for (let i = 1; i < arr.length; i++) {\n      for (let j = 0; j < i; j++) {\n        if (arr[j] > arr[i]) {\n          t++;\n        }\n      }\n    }\n    return t;\n  }\n\n  /**\n   * 使用 Knuth Durstenfeld 洗牌算法打乱数组\n   * @param arr\n   */\n  static knuthDurstenfeldShuffle(arr) {\n    let len = arr.length;\n    while (len > 1) {\n      const randomIndex = Utils.getRandomInt(0, len - 1);\n      console.debug(`${len} exchange: ${randomIndex} ${len - 1}`);\n      // swap\n      [arr[len - 1], arr[randomIndex]] = [arr[randomIndex], arr[len - 1]];\n      console.debug(`[0, ${len}] = ${randomIndex} --> ${arr} 逆序数: ${Utils.getNumberInversions(arr)}`);\n      --len;\n    }\n  }\n\n  /**\n   * 是否是奇数\n   * @param number\n   * @returns {boolean}\n   */\n  static isOdd(number) {\n    return number % 2 !== 0;\n  }\n\n  /**\n   * 获取有解数列\n   * @returns {*[]}\n   */\n  static getSolvablePuzzleNumbers(matrix_n) {\n    let arr = Array.from(\n      new Array(Math.pow(matrix_n, 2) - 1),\n      (val, index) => index + 1\n    );\n\n    this.knuthDurstenfeldShuffle(arr);\n\n    if (this.isOdd(matrix_n)) {\n      [arr[3], arr[1]] = [arr[1], arr[3]];\n    }\n\n    return [...arr, null];\n  }\n\n  static findIndex(array, element) {\n    return array.findIndex(v => {\n      return v === element;\n    });\n  }\n}\n","import React from \"react\";\nimport Utils from \"../../classes/Utils\";\nimport GameContainer from '../../components/GameContainer';\nimport './index.css';\n\nfunction Square(props) {\n  return (\n    <button className=\"square\" onClick={props.onClick}>\n      {props.value}\n    </button>\n  );\n}\n\nclass Board extends React.Component {\n  render() {\n    const puzzles = this.props.puzzles;\n    return (\n      <div>\n        {puzzles.map((v, k) => {\n          return (\n            <span key={k}>\n              <Square value={v} onClick={() => this.props.onClick(k, v)}/>\n            </span>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nclass PuzzleGame extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = this.initialization(3);\n  }\n\n  initialization(matrixN) {\n    return {\n      stepNumber: 0,\n      solved: false,\n      matrixN: matrixN,\n      history: [\n        {\n          puzzles: Utils.getSolvablePuzzleNumbers(matrixN),\n          nullIndex: matrixN * matrixN - 1,\n        },\n      ],\n    }\n  }\n\n  changeMatrix(matrixN) {\n    if (matrixN !== this.state.matrixN) {\n      this.setState(this.initialization(matrixN));\n    }\n  }\n\n  getOffset(index) {\n    const row = Math.floor(index / this.state.matrixN);\n    const col = index % this.state.matrixN;\n    return {R: row, C: col};\n  }\n\n  canExchange(nullIndex, clickIndex) {\n    const nullOffset = this.getOffset(nullIndex);\n    const clickOffset = this.getOffset(clickIndex);\n    return (nullOffset.R === clickOffset.R && Math.abs(nullOffset.C - clickOffset.C) === 1) ? true :\n      (nullOffset.C === clickOffset.C && Math.abs(nullOffset.R - clickOffset.R) === 1);\n  }\n\n  doExchange(puzzles, k, v, nullIndex) {\n    puzzles[nullIndex] = v;\n    puzzles[k] = null;\n    return puzzles;\n  }\n\n  isSolved(puzzles) {\n    if (puzzles.includes(null, -1)) {\n      let isSolved = true;\n      let baseNumber = puzzles[0];\n      for (let i = 1; i < puzzles.length - 1; i++) {\n        if (puzzles[i] - baseNumber !== 1) {\n          isSolved = false;\n          break;\n        } else {\n          baseNumber = puzzles[i];\n        }\n      }\n      return isSolved;\n    }\n    return false;\n  }\n\n  handleClick(k, v) {\n    let isSolved = this.state.solved;\n    if (isSolved || v === null) {\n      return;\n    }\n\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const currentNullIndex = current.nullIndex;\n\n    if (!this.canExchange(currentNullIndex, k)) {\n      return;\n    }\n\n    const puzzles = this.doExchange(current.puzzles.slice(), k, v, currentNullIndex);\n\n    isSolved = this.isSolved(puzzles);\n\n    this.setState({\n      history: history.concat([{puzzles: puzzles, nullIndex: k,}]),\n      stepNumber: history.length,\n      solved: isSolved,\n    });\n  }\n\n  jumpTo = step => {\n    const isSolved = this.state.solved;\n    if (!isSolved) {\n      this.setState({\n        stepNumber: step,\n      });\n    }\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const isSolved = this.state.solved;\n    const message = {\n      solved: isSolved,\n      message: 'Congratulations!',\n      handleCloseEvent: () => {\n        this.setState(this.initialization(this.state.matrixN));\n      }\n    }\n\n    const moves = history.map((step, move) => {\n      const desc = move ? \"Go to move #\" + move : \"Go to game start\";\n      return (\n        <li key={move}>\n          <button\n            onClick={() => this.jumpTo(move)}\n            onTouchEnd={() => this.jumpTo(move)}\n          >\n            {desc} - {step.puzzles.join(\",\")}\n          </button>\n        </li>\n      );\n    });\n\n    return (\n      <GameContainer title=\"数字华容道\" jumpTo={moves} message={message}>\n        <div className=\"form-group\">\n          <label className=\"form-label form-inline col-sm-2 col-2\">难度:</label>\n          {\n            [3, 4, 5].map((ele, index) => {\n              const checked = this.state.matrixN === ele ? 'checked' : '';\n              return (\n                <label className=\"form-radio form-inline\" key={index}>\n                  <input type=\"radio\" name=\"matrixN\" checked={checked} onChange={() => this.changeMatrix(ele)}/>\n                  <i className=\"form-icon\"></i> {ele}\n                </label>\n              )\n            })\n          }\n        </div>\n        <div className=\"puzzle-game\">\n          <div className={`puzzle-game-board-${this.state.matrixN}`}>\n            <Board\n              puzzles={current.puzzles}\n              onClick={(k, v) => this.handleClick(k, v)}\n            />\n          </div>\n        </div>\n      </GameContainer>\n    );\n  }\n}\n\nexport default PuzzleGame;","import {Game as TicTacToeGame} from \"./games/tictactoe\";\nimport PuzzleGame from \"./games/npuzzle\";\nimport TetrisGame from \"./games/tetris\";\n\nconst routeConfig = [\n  {\n    path: \"/tac\",\n    name: \"React Demo\",\n    component: TicTacToeGame,\n  },\n  {\n    path: '/nPuzzle',\n    name: \"数字华容道\",\n    component: PuzzleGame,\n  },\n  {\n    path: \"/tetris\",\n    name: \"俄罗斯方块\",\n    component: TetrisGame,\n  },\n];\n\nexport default routeConfig","import React from \"react\";\n\nexport default function TetrisGame() {\n  return (\n    <div className=\"tetris-game\">\n      <div>Tetris Game</div>\n    </div>\n  )\n}","/* eslint-disable jsx-a11y/anchor-has-content */\nimport {BrowserRouter as Router, Route, Link} from \"react-router-dom\";\nimport routeConfig from \"./router.config\";\nimport \"spectre.css/dist/spectre.min.css\";\nimport \"spectre.css/dist/spectre-icons.min.css\"\nimport \"spectre.css/dist/spectre-exp.min.css\";\nimport \"spectre.css/docs/dist/docs.min.css\";\nimport React from \"react\";\n\nfunction App() {\n  return (\n    <Router basename=\"/mini-games\">\n      <div className=\"docs-container off-canvas off-canvas-sidebar-show\">\n        <div className=\"docs-navbar\">\n          <a className=\"off-canvas-toggle btn btn-link btn-action\" href=\"#sidebar\">\n            <i className=\"icon icon-menu\"></i>\n          </a>\n        </div>\n        <div className=\"docs-sidebar off-canvas-sidebar\" id=\"sidebar\">\n          <div className=\"docs-brand\">\n            游戏列表\n          </div>\n          <div className=\"docs-nav\" style={{width: \"auto\"}}>\n            <div className=\"accordion-container\">\n              <ul className=\"menu menu-nav\">\n                {routeConfig.map((route, index) => (\n                  <li key={index} className=\"menu-item\">\n                    <Link to={route.path}>{route.name}</Link>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n        <a className=\"off-canvas-overlay\" href=\"#close\"></a>\n        <div className=\"off-canvas-content\">\n          <div className=\"docs-content\" id=\"content\">\n            <div className=\"container\">\n              {routeConfig.map((route, index) => (\n                <Route\n                  key={index}\n                  path={route.path}\n                  exact={route.exact}\n                  component={route.component}\n                />\n              ))}\n            </div>\n            <div className=\"docs-footer container grid-lg\" id=\"copyright\">\n              ©{new Date().getFullYear()} by Leeyee, All Rights Reserved.\n            </div>\n          </div>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);"],"sourceRoot":""}